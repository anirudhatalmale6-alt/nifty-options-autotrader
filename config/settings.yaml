# ============================================
# NIFTY OPTIONS TRADING SYSTEM - CONFIGURATION
# ============================================

# Fyers API Credentials
fyers:
  app_id: ""  # Your Fyers App ID (e.g., XXXXXXXXXX-100)
  secret_key: ""  # Your Fyers Secret Key
  redirect_uri: "http://127.0.0.1:8000/"

# Trading Instrument Settings
instrument:
  symbol: "NSE:NIFTY50-INDEX"
  options_symbol_base: "NSE:NIFTY"
  lot_size: 25
  exchange: "NSE"

# Capital & Position Sizing
capital:
  total_capital: 200000  # Total trading capital in INR
  risk_per_trade_percent: 2.0  # Risk 2% per trade
  max_lots: 3  # Maximum lots per trade
  min_premium: 80  # Minimum option premium to consider
  max_premium: 150  # Maximum option premium to consider

# Risk-Reward Settings
risk_reward:
  target_rr_ratio: 3.0  # 1:3 risk-reward
  stop_loss_percent: 33.0  # SL at 33% below entry
  target_percent: 100.0  # Target at 100% above entry

# Trailing Stop Loss Settings
trailing:
  enabled: true
  move_to_breakeven_at: 50  # Move SL to breakeven when profit reaches 50%
  lock_profit_at: 75  # Lock 50% profit when premium reaches 75% gain
  partial_booking_at: 100  # Book 50% position at 100% gain
  trail_points_after_partial: 20  # Trail remaining with 20 point SL

# Entry Conditions - Daily Timeframe
daily_conditions:
  ema_fast: 20
  ema_slow: 50
  rsi_period: 14
  rsi_bullish_min: 50
  rsi_bullish_max: 70
  rsi_bearish_min: 30
  rsi_bearish_max: 50
  macd_fast: 12
  macd_slow: 26
  macd_signal: 9
  volume_ma_period: 20

# Entry Trigger - 15-min Timeframe
intraday_trigger:
  timeframe: "15min"
  use_prev_day_breakout: true  # Break above/below prev day high/low
  use_first_candle_breakout: true  # Break above/below first 15-min candle

# Option Selection
option_selection:
  strike_offset: 50  # ATM or 50-100 points OTM
  min_days_to_expiry: 2  # Minimum 2 days to expiry
  prefer_current_week: true  # Prefer current week expiry

# Trading Hours
trading_hours:
  market_open: "09:15"
  entry_start: "09:30"  # Start looking for entries
  entry_end: "10:30"  # Stop new entries after this
  time_based_exit: "15:00"  # Exit if no movement by this time
  market_close: "15:30"
  avoid_first_minutes: 15  # Avoid first 15 minutes

# Trading Days
trading_days:
  monday: false
  tuesday: true
  wednesday: true
  thursday: true  # Expiry day - but we exit before
  friday: false

# Trade Limits
limits:
  max_trades_per_day: 2
  max_consecutive_losses: 3  # Stop trading after 3 consecutive losses
  stop_after_consecutive_losses: true

# Market Filters
filters:
  max_vix: 20.0  # Skip trading if VIX > 20
  check_vix: true
  skip_rbi_policy_days: true
  skip_budget_day: true

# Logging & Alerts
logging:
  level: "INFO"  # DEBUG, INFO, WARNING, ERROR
  log_to_file: true
  log_dir: "logs"
  trade_journal: true

# Backtesting Settings
backtest:
  start_date: "2022-01-01"
  end_date: "2025-02-07"
  initial_capital: 200000
  include_slippage: true
  slippage_percent: 0.1
  include_commission: true
  commission_per_lot: 20  # INR per lot

# System Settings
system:
  mode: "paper"  # "paper" for testing, "live" for real trading
  auto_start: false  # Auto-start trading at market open
  graceful_shutdown: true  # Exit all positions on connection loss
